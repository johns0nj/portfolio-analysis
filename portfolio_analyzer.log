2025-01-27 10:41:29,564 - portfolio_analyzer - INFO - Starting portfolio analysis
2025-01-27 10:41:29,564 - portfolio_analyzer - INFO - Analyzing portfolio: {'AAPL': 0.4, 'MSFT': 0.3, 'GOOGL': 0.3}
2025-01-27 10:41:29,565 - portfolio_analyzer - INFO - Time period: 2020-01-01 to 2023-10-01
2025-01-27 10:41:29,565 - portfolio_analyzer - DEBUG - Fetching stock data...
2025-01-27 10:41:29,565 - portfolio_analyzer - ERROR - An error occurred during portfolio analysis: name 'fetch_stock_data' is not defined
Traceback (most recent call last):
  File "<stdin>", line 25, in main
NameError: name 'fetch_stock_data' is not defined
2025-01-27 10:47:39,382 - portfolio_analyzer - INFO - Starting portfolio analysis
2025-01-27 10:47:39,383 - portfolio_analyzer - INFO - Analyzing portfolio: {'AAPL': 0.4, 'MSFT': 0.3, 'GOOGL': 0.3}
2025-01-27 10:47:39,384 - portfolio_analyzer - INFO - Time period: 2020-01-01 to 2023-10-01
2025-01-27 10:47:39,384 - portfolio_analyzer - DEBUG - Fetching stock data...
2025-01-27 10:47:42,074 - portfolio_analyzer - DEBUG - Processing stock data...
2025-01-27 10:47:42,075 - portfolio_analyzer - DEBUG - Calculating portfolio metrics...
2025-01-27 10:47:42,076 - portfolio_analyzer - ERROR - Error calculating portfolio returns: 'Adj Close'
2025-01-27 10:47:42,076 - portfolio_analyzer - ERROR - An error occurred during portfolio analysis: 'Adj Close'
Traceback (most recent call last):
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'Adj Close'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "<stdin>", line 31, in main
  File "C:\Users\zougu\OneDrive\main\Dell NB\portfolio_analysis\calculations.py", line 188, in calculate_portfolio_metrics
    portfolio_returns = calculate_portfolio_returns(processed_data, portfolio_weights)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\OneDrive\main\Dell NB\portfolio_analysis\calculations.py", line 36, in calculate_portfolio_returns
    price_data[ticker] = data['Adj Close']
                         ~~~~^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\frame.py", line 4101, in __getitem__
    return self._getitem_multilevel(key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\frame.py", line 4159, in _getitem_multilevel
    loc = self.columns.get_loc(key)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\multi.py", line 3040, in get_loc
    loc = self._get_level_indexer(key, level=0)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\multi.py", line 3391, in _get_level_indexer
    idx = self._get_loc_single_level_index(level_index, key)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\multi.py", line 2980, in _get_loc_single_level_index
    return level_index.get_loc(key)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'Adj Close'
2025-01-27 10:54:10,670 - portfolio_analyzer - INFO - Starting portfolio analysis
2025-01-27 10:54:10,670 - portfolio_analyzer - INFO - Starting portfolio analysis
2025-01-27 10:54:10,671 - portfolio_analyzer - INFO - Analyzing portfolio: {'AAPL': 0.4, 'MSFT': 0.3, 'GOOGL': 0.3}
2025-01-27 10:54:10,671 - portfolio_analyzer - INFO - Analyzing portfolio: {'AAPL': 0.4, 'MSFT': 0.3, 'GOOGL': 0.3}
2025-01-27 10:54:10,672 - portfolio_analyzer - INFO - Time period: 2020-01-01 to 2023-10-01
2025-01-27 10:54:10,672 - portfolio_analyzer - INFO - Time period: 2020-01-01 to 2023-10-01
2025-01-27 10:54:10,673 - portfolio_analyzer - DEBUG - Fetching stock data...
2025-01-27 10:54:10,673 - portfolio_analyzer - DEBUG - Fetching stock data...
2025-01-27 10:54:10,763 - portfolio_analyzer - DEBUG - Processing stock data...
2025-01-27 10:54:10,763 - portfolio_analyzer - DEBUG - Processing stock data...
2025-01-27 10:54:10,765 - portfolio_analyzer - DEBUG - Calculating portfolio metrics...
2025-01-27 10:54:10,765 - portfolio_analyzer - DEBUG - Calculating portfolio metrics...
2025-01-27 10:54:10,766 - portfolio_analyzer - ERROR - Error calculating portfolio returns: 'Adj Close'
2025-01-27 10:54:10,766 - portfolio_analyzer - ERROR - Error calculating portfolio returns: 'Adj Close'
2025-01-27 10:54:10,768 - portfolio_analyzer - ERROR - An error occurred during portfolio analysis: 'Adj Close'
Traceback (most recent call last):
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'Adj Close'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "<stdin>", line 31, in main
  File "<stdin>", line 18, in calculate_portfolio_metrics
  File "<stdin>", line 19, in calculate_portfolio_returns
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\frame.py", line 4101, in __getitem__
    return self._getitem_multilevel(key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\frame.py", line 4159, in _getitem_multilevel
    loc = self.columns.get_loc(key)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\multi.py", line 3040, in get_loc
    loc = self._get_level_indexer(key, level=0)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\multi.py", line 3391, in _get_level_indexer
    idx = self._get_loc_single_level_index(level_index, key)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\multi.py", line 2980, in _get_loc_single_level_index
    return level_index.get_loc(key)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'Adj Close'
2025-01-27 10:54:10,768 - portfolio_analyzer - ERROR - An error occurred during portfolio analysis: 'Adj Close'
Traceback (most recent call last):
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'Adj Close'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "<stdin>", line 31, in main
  File "<stdin>", line 18, in calculate_portfolio_metrics
  File "<stdin>", line 19, in calculate_portfolio_returns
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\frame.py", line 4101, in __getitem__
    return self._getitem_multilevel(key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\frame.py", line 4159, in _getitem_multilevel
    loc = self.columns.get_loc(key)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\multi.py", line 3040, in get_loc
    loc = self._get_level_indexer(key, level=0)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\multi.py", line 3391, in _get_level_indexer
    idx = self._get_loc_single_level_index(level_index, key)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\multi.py", line 2980, in _get_loc_single_level_index
    return level_index.get_loc(key)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'Adj Close'
2025-01-27 10:54:33,700 - portfolio_analyzer - INFO - Starting portfolio analysis
2025-01-27 10:54:33,700 - portfolio_analyzer - INFO - Starting portfolio analysis
2025-01-27 10:54:33,700 - portfolio_analyzer - INFO - Starting portfolio analysis
2025-01-27 10:54:33,701 - portfolio_analyzer - INFO - Analyzing portfolio: {'AAPL': 0.4, 'MSFT': 0.3, 'GOOGL': 0.3}
2025-01-27 10:54:33,701 - portfolio_analyzer - INFO - Analyzing portfolio: {'AAPL': 0.4, 'MSFT': 0.3, 'GOOGL': 0.3}
2025-01-27 10:54:33,701 - portfolio_analyzer - INFO - Analyzing portfolio: {'AAPL': 0.4, 'MSFT': 0.3, 'GOOGL': 0.3}
2025-01-27 10:54:33,703 - portfolio_analyzer - INFO - Time period: 2020-01-01 to 2023-10-01
2025-01-27 10:54:33,703 - portfolio_analyzer - INFO - Time period: 2020-01-01 to 2023-10-01
2025-01-27 10:54:33,703 - portfolio_analyzer - INFO - Time period: 2020-01-01 to 2023-10-01
2025-01-27 10:54:33,705 - portfolio_analyzer - DEBUG - Fetching stock data...
2025-01-27 10:54:33,705 - portfolio_analyzer - DEBUG - Fetching stock data...
2025-01-27 10:54:33,705 - portfolio_analyzer - DEBUG - Fetching stock data...
2025-01-27 10:54:33,785 - portfolio_analyzer - DEBUG - Processing stock data...
2025-01-27 10:54:33,785 - portfolio_analyzer - DEBUG - Processing stock data...
2025-01-27 10:54:33,785 - portfolio_analyzer - DEBUG - Processing stock data...
2025-01-27 10:54:33,786 - portfolio_analyzer - DEBUG - Calculating portfolio metrics...
2025-01-27 10:54:33,786 - portfolio_analyzer - DEBUG - Calculating portfolio metrics...
2025-01-27 10:54:33,786 - portfolio_analyzer - DEBUG - Calculating portfolio metrics...
2025-01-27 10:54:33,788 - portfolio_analyzer - ERROR - Error calculating portfolio returns: 'Adj Close'
2025-01-27 10:54:33,788 - portfolio_analyzer - ERROR - Error calculating portfolio returns: 'Adj Close'
2025-01-27 10:54:33,788 - portfolio_analyzer - ERROR - Error calculating portfolio returns: 'Adj Close'
2025-01-27 10:54:33,791 - portfolio_analyzer - ERROR - An error occurred during portfolio analysis: 'Adj Close'
Traceback (most recent call last):
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'Adj Close'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "<stdin>", line 31, in main
  File "C:\Users\zougu\OneDrive\main\Dell NB\portfolio_analysis\calculations.py", line 188, in calculate_portfolio_metrics
    portfolio_returns = calculate_portfolio_returns(processed_data, portfolio_weights)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\OneDrive\main\Dell NB\portfolio_analysis\calculations.py", line 36, in calculate_portfolio_returns
    price_data[ticker] = data['Adj Close']
                         ~~~~^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\frame.py", line 4101, in __getitem__
    return self._getitem_multilevel(key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\frame.py", line 4159, in _getitem_multilevel
    loc = self.columns.get_loc(key)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\multi.py", line 3040, in get_loc
    loc = self._get_level_indexer(key, level=0)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\multi.py", line 3391, in _get_level_indexer
    idx = self._get_loc_single_level_index(level_index, key)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\multi.py", line 2980, in _get_loc_single_level_index
    return level_index.get_loc(key)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'Adj Close'
2025-01-27 10:54:33,791 - portfolio_analyzer - ERROR - An error occurred during portfolio analysis: 'Adj Close'
Traceback (most recent call last):
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'Adj Close'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "<stdin>", line 31, in main
  File "C:\Users\zougu\OneDrive\main\Dell NB\portfolio_analysis\calculations.py", line 188, in calculate_portfolio_metrics
    portfolio_returns = calculate_portfolio_returns(processed_data, portfolio_weights)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\OneDrive\main\Dell NB\portfolio_analysis\calculations.py", line 36, in calculate_portfolio_returns
    price_data[ticker] = data['Adj Close']
                         ~~~~^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\frame.py", line 4101, in __getitem__
    return self._getitem_multilevel(key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\frame.py", line 4159, in _getitem_multilevel
    loc = self.columns.get_loc(key)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\multi.py", line 3040, in get_loc
    loc = self._get_level_indexer(key, level=0)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\multi.py", line 3391, in _get_level_indexer
    idx = self._get_loc_single_level_index(level_index, key)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\multi.py", line 2980, in _get_loc_single_level_index
    return level_index.get_loc(key)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'Adj Close'
2025-01-27 10:54:33,791 - portfolio_analyzer - ERROR - An error occurred during portfolio analysis: 'Adj Close'
Traceback (most recent call last):
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\base.py", line 3805, in get_loc
    return self._engine.get_loc(casted_key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "index.pyx", line 167, in pandas._libs.index.IndexEngine.get_loc
  File "index.pyx", line 196, in pandas._libs.index.IndexEngine.get_loc
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item
  File "pandas\\_libs\\hashtable_class_helper.pxi", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item
KeyError: 'Adj Close'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "<stdin>", line 31, in main
  File "C:\Users\zougu\OneDrive\main\Dell NB\portfolio_analysis\calculations.py", line 188, in calculate_portfolio_metrics
    portfolio_returns = calculate_portfolio_returns(processed_data, portfolio_weights)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\OneDrive\main\Dell NB\portfolio_analysis\calculations.py", line 36, in calculate_portfolio_returns
    price_data[ticker] = data['Adj Close']
                         ~~~~^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\frame.py", line 4101, in __getitem__
    return self._getitem_multilevel(key)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\frame.py", line 4159, in _getitem_multilevel
    loc = self.columns.get_loc(key)
          ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\multi.py", line 3040, in get_loc
    loc = self._get_level_indexer(key, level=0)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\multi.py", line 3391, in _get_level_indexer
    idx = self._get_loc_single_level_index(level_index, key)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\multi.py", line 2980, in _get_loc_single_level_index
    return level_index.get_loc(key)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\zougu\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.11_qbz5n2kfra8p0\LocalCache\local-packages\Python311\site-packages\pandas\core\indexes\base.py", line 3812, in get_loc
    raise KeyError(key) from err
KeyError: 'Adj Close'
2025-01-27 11:14:02,997 - portfolio_analyzer - INFO - Starting portfolio analysis
2025-01-27 11:14:02,997 - portfolio_analyzer - INFO - Starting portfolio analysis
2025-01-27 11:14:02,997 - portfolio_analyzer - INFO - Starting portfolio analysis
2025-01-27 11:14:02,997 - portfolio_analyzer - INFO - Starting portfolio analysis
2025-01-27 11:14:02,999 - portfolio_analyzer - INFO - Analyzing portfolio: {'AAPL': 0.4, 'MSFT': 0.3, 'GOOGL': 0.3}
2025-01-27 11:14:02,999 - portfolio_analyzer - INFO - Analyzing portfolio: {'AAPL': 0.4, 'MSFT': 0.3, 'GOOGL': 0.3}
2025-01-27 11:14:02,999 - portfolio_analyzer - INFO - Analyzing portfolio: {'AAPL': 0.4, 'MSFT': 0.3, 'GOOGL': 0.3}
2025-01-27 11:14:02,999 - portfolio_analyzer - INFO - Analyzing portfolio: {'AAPL': 0.4, 'MSFT': 0.3, 'GOOGL': 0.3}
2025-01-27 11:14:03,001 - portfolio_analyzer - INFO - Time period: 2020-01-01 to 2023-10-01
2025-01-27 11:14:03,001 - portfolio_analyzer - INFO - Time period: 2020-01-01 to 2023-10-01
2025-01-27 11:14:03,001 - portfolio_analyzer - INFO - Time period: 2020-01-01 to 2023-10-01
2025-01-27 11:14:03,001 - portfolio_analyzer - INFO - Time period: 2020-01-01 to 2023-10-01
2025-01-27 11:14:03,004 - portfolio_analyzer - DEBUG - Fetching stock data...
2025-01-27 11:14:03,004 - portfolio_analyzer - DEBUG - Fetching stock data...
2025-01-27 11:14:03,004 - portfolio_analyzer - DEBUG - Fetching stock data...
2025-01-27 11:14:03,004 - portfolio_analyzer - DEBUG - Fetching stock data...
2025-01-27 11:14:03,089 - portfolio_analyzer - DEBUG - Processing stock data...
2025-01-27 11:14:03,089 - portfolio_analyzer - DEBUG - Processing stock data...
2025-01-27 11:14:03,089 - portfolio_analyzer - DEBUG - Processing stock data...
2025-01-27 11:14:03,089 - portfolio_analyzer - DEBUG - Processing stock data...
2025-01-27 11:14:03,091 - portfolio_analyzer - ERROR - An error occurred during portfolio analysis: 'dict' object has no attribute 'head'
Traceback (most recent call last):
  File "<stdin>", line 29, in main
AttributeError: 'dict' object has no attribute 'head'
2025-01-27 11:14:03,091 - portfolio_analyzer - ERROR - An error occurred during portfolio analysis: 'dict' object has no attribute 'head'
Traceback (most recent call last):
  File "<stdin>", line 29, in main
AttributeError: 'dict' object has no attribute 'head'
2025-01-27 11:14:03,091 - portfolio_analyzer - ERROR - An error occurred during portfolio analysis: 'dict' object has no attribute 'head'
Traceback (most recent call last):
  File "<stdin>", line 29, in main
AttributeError: 'dict' object has no attribute 'head'
2025-01-27 11:14:03,091 - portfolio_analyzer - ERROR - An error occurred during portfolio analysis: 'dict' object has no attribute 'head'
Traceback (most recent call last):
  File "<stdin>", line 29, in main
AttributeError: 'dict' object has no attribute 'head'
